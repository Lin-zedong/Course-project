:root{
  --panel: #111827;
  --panel-border: #1f2937;

  --label-w: 240px;
  --input-w: 520px;
}

*{box-sizing:border-box} body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#0b0e14;color:#eef}
.topnav{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#101522;border-bottom:1px solid #1c2233}
.topnav .brand{font-weight:700}
.topnav a{color:#c8d1ff;text-decoration:none;margin:0 8px}
.container{max-width:960px;margin:24px auto;padding:0 16px}
.card,.login-card{background:#111827;border:1px solid #1f2937;border-radius:12px;padding:16px;margin:12px 0}
.btn-primary{border:1px solid #4f46e5;background:#4f46e5;color:#fff;padding:8px 14px;border-radius:8px;cursor:pointer}
.btn-primary:hover{filter:brightness(1.1)}
.list{width:100%;border-collapse:collapse;margin-top:12px}
.list th,.list td{border-bottom:1px solid #1f2937;padding:10px}
/* Delete button: white outline, transparent, hover red */
.btn-delete{border:1px solid #fff;background:transparent;color:#fff;padding:6px 12px;border-radius:8px;cursor:pointer;margin-right:8px}
.btn-delete:hover{background:#e11d48;border-color:#e11d48;color:#fff}
/* Star button: golden outline, transparent, hover or active filled gold */
.btn-star{border:1px solid goldenrod;background:transparent;color:goldenrod;padding:6px 10px;border-radius:8px;cursor:pointer}
.btn-star:hover,.btn-star.active{background:goldenrod;color:#111}
/* Hover/focus helper bubble */
.input-with-help{position:relative;display:inline-block}
.input-with-help .help-bubble{display:none;position:absolute;left:100%;top:0;margin-left:10px;background:#111827;border:1px solid #1f2937;border-radius:8px;padding:10px;width:320px;color:#cbd5e1;z-index:10}
.input-with-help:hover .help-bubble,
.input-with-help:focus-within .help-bubble{display:block}
.login-page{min-height:100vh;background:#0b0e14;display:flex;flex-direction:column}
.login-card{width:360px}
.events li{margin:8px 0}


/* ====== Home (index) hero centering ====== */
.hero{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:16px; padding:40px 0; min-height: calc(100vh - 140px); }
.hero .card{ width:100%; max-width: 720px; } /* 控制输入框长度 */

/* ====== Subscriptions inputs: equal widths ====== */
.add-form .input-with-help{ width: min(560px, 100%); }
.email-row form{ display:grid; grid-template-columns: auto minmax(0,var(--input-w)) auto; align-items:center; column-gap:10px; }
.email-row input[type="email"]{ width:100%; } /* 与上面的 560px 等长 */

/* ====== Table column balance: subject closer to actions ====== */
.list th.subject{ text-align:right; width:50%; }   /* 决定“订阅”列所占宽度 */
.list th.actions{ width:150px; }                   /* 操作列更紧凑 */
.list td.subject{ text-align:left; }
.list td.actions{ text-align:right; white-space:nowrap; }

/* ====== Star color: pure gold ====== */
.btn-star{ border-color:#f5c84b; color:#f5c84b; }
.btn-star.active::before{ color:#f5c84b; }
.btn-star::before{ color:#f5c84b; }

/* ====== Admin dashboard cards ====== */
.stats{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:12px; }
.stat-card{ background: var(--panel, #111827); border:1px solid var(--panel-border, #1f2937); border-radius:14px; padding:16px; }
.stat-title{ color:#c8d1ff; font-weight:600; margin-bottom:6px; }
.stat-value{ font-size:1.6rem; font-weight:700; }

.hero h1{ text-align:center; }

.login-wrap{display:flex;flex:1;align-items:center;justify-content:center;padding:32px 16px}


:root{ --label-w: 240px; --input-w: 520px; }

/* Unified row layout (label + input + button) */
.row-grid{ display:grid; grid-template-columns: var(--label-w) minmax(0,var(--input-w)) auto; align-items:center; column-gap:10px; }
.row-label{ font-weight:600; }
.row-input{ width:100%; }
.row-action{}

/* Input-with-help container should expand to grid cell width */
.row-input.input-with-help{ width:100%; }
.row-input.input-with-help input[type="text"]{ width:100%; }

/* List header and cell alignment */
.list{ width:100%; border-collapse: collapse; margin-top: 8px; table-layout: fixed; }
.list th, .list td{ border-bottom:1px solid #1f2937; padding:12px 10px; vertical-align: middle; }
.list th.subject{ text-align:right; }
.list td.subject{ text-align:left; }
.list th.actions{ text-align:right; width:150px; }
.list td.actions{ text-align:right; white-space:nowrap; }

/* Secondary line under subject */
.sub-secondary{ opacity:.85; font-size:.95rem; margin-top:2px; }

/* Star: hollow gold star in gold frame; active -> solid gold, frame disappears */
.btn-star{
  --gold:#f5c84b;
  width:38px; height:38px;
  display:inline-flex; align-items:center; justify-content:center;
  border:1.5px solid var(--gold);
  background: transparent; color: var(--gold);
  border-radius:10px; cursor:pointer; padding:0; font-size:0; position:relative;
  transition: border-color .15s ease, transform .12s ease;
}
.btn-star::before{ content:'☆'; font-size:22px; line-height:1; color: var(--gold); }
.btn-star:hover{ transform: translateY(-1px) scale(1.05); }
.btn-star.active{ border-color: transparent; }
.btn-star.active::before{ content:'★'; color: var(--gold); }

/* Login card tidy & symmetry */
.login-card{ width:420px; border-radius:14px; padding:22px; }
.login-card h2{ margin:0 0 14px; text-align:center; }
.login-card .form-row{ margin:12px 0; }
.login-card input{ width:100%; }
.login-card .btn-primary{ width:100%; margin-top:8px; }


/* === Scoped layout tweaks for subscriptions page (non-breaking) === */
.subs-page .row-grid{ margin-bottom:14px; }                 /* add vertical breathing room between rows */
.subs-page .add-form{ margin-bottom:12px; }                 /* space under 'add subscription' row */
.subs-page .email-row{ margin-top:6px; margin-bottom:18px;} /* separate email row from surroundings */
.subs-page h3{ margin-top:22px; margin-bottom:6px; }        /* space above section headings */
.subs-page .list{ margin-top:14px; }                        /* space between heading and table */

/* Align headers with cells: subject left, actions right */
.list th.subject{ text-align:left; width:auto; }
.list th.actions{ text-align:right; }

/* Inputs a bit shorter (also handled via --input-w), keep max-width for responsiveness */
.subs-page .row-input input[type="text"],
.subs-page .row-input input[type="email"]{
  max-width: var(--input-w);
}


/* === Admin manage page layout === */
.kpi-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; margin:8px 0 16px; }
.kpi-label{ font-size:.9rem; color:#a9b1d6; }
.kpi-value{ font-size:1.6rem; font-weight:700; }

.admin-table{ table-layout:fixed; }
.admin-table th, .admin-table td{ vertical-align:middle; }
.admin-table .col-user{ width:26%; }
.admin-table .col-subj{ width:18%; }
.admin-table .col-code{ width:14%; }
.admin-table .col-filters{ width:auto; word-break:break-word; white-space:normal; }
.admin-table .col-actions{ width:90px; text-align:right; }


/* Flash alerts */
.alert{padding:10px 14px;border:1px solid #1f2937;border-radius:8px;background:#0f172a;color:#e2e8f0;margin:12px 0;}
.alert-success{border-color:#16a34a;}
.alert-error{border-color:#dc2626;}


/* --- Auto-added rules for alignment & events readability --- */
.admin-table { table-layout: fixed; width: 100%; }
.admin-table th, .admin-table td { text-align: center; vertical-align: middle; }
.admin-table .col-filters { text-align: left; }
.admin-table .col-actions { text-align: right; white-space: nowrap; }
.events .evt-line { display: flex; align-items: baseline; gap: 8px; }
.events .evt-time { opacity: .8; font-style: italic; }
.events .diff { white-space: pre-wrap; font-family: inherit; margin: 4px 0 12px; }

.events .evt-line { display:flex; align-items:baseline; gap:8px; }
.events .evt-time { opacity:.8; font-style:italic; }
.events .diff { white-space:pre-wrap; font-family:inherit; margin:4px 0 12px; background:#0f172a; border:1px solid #1f2937; padding:8px; border-radius:8px; }

.admin-table { table-layout:fixed; width:100%; }
.admin-table th, .admin-table td { text-align:center; vertical-align:middle; }
.admin-table .col-filters { text-align:left; }
.admin-table .col-actions { text-align:right; white-space:nowrap; }